TEST_CASE( "Testing wasm <call_indirect_test_0_wasm>", "[call_indirect_test_0_wasm_tests]" ) {
   auto code = backend_t::read_wasm( call_indirect_test_0_wasm ) );
   backend_t bkend( code );
   bkend.set_wasm_allocator( &wa );

   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "type-i32", )) == static_cast<uint32_t>(306));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "type-i64", )) == static_cast<uint64_t>(356));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "type-f32", )) == static_cast<float>(1165172736));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "type-f64", )) == static_cast<double>(4660882566700597248));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "type-index", )) == static_cast<uint64_t>(100));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "type-first-i32", )) == static_cast<uint32_t>(32));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "type-first-i64", )) == static_cast<uint64_t>(64));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "type-first-f32", )) == static_cast<float>(1068037571));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "type-first-f64", )) == static_cast<double>(4610064722561534525));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "type-second-i32", )) == static_cast<uint32_t>(32));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "type-second-i64", )) == static_cast<uint64_t>(64));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "type-second-f32", )) == static_cast<float>(1107296256));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "type-second-f64", )) == static_cast<double>(4634211053438658150));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch", static_cast<uint32_t>(5), static_cast<uint64_t>(2), )) == static_cast<uint64_t>(2));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch", static_cast<uint32_t>(5), static_cast<uint64_t>(5), )) == static_cast<uint64_t>(5));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch", static_cast<uint32_t>(12), static_cast<uint64_t>(5), )) == static_cast<uint64_t>(120));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch", static_cast<uint32_t>(13), static_cast<uint64_t>(5), )) == static_cast<uint64_t>(8));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch", static_cast<uint32_t>(20), static_cast<uint64_t>(2), )) == static_cast<uint64_t>(2));
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch", static_cast<uint32_t>(0), static_cast<uint64_t>(2), ), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch", static_cast<uint32_t>(15), static_cast<uint64_t>(2), ), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch", static_cast<uint32_t>(29), static_cast<uint64_t>(2), ), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch", static_cast<uint32_t>(4294967295), static_cast<uint64_t>(2), ), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch", static_cast<uint32_t>(1213432423), static_cast<uint64_t>(2), ), std::exception);
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i64", static_cast<uint32_t>(5))) == static_cast<uint64_t>(9));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i64", static_cast<uint32_t>(12))) == static_cast<uint64_t>(362880));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i64", static_cast<uint32_t>(13))) == static_cast<uint64_t>(55));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i64", static_cast<uint32_t>(20))) == static_cast<uint64_t>(9));
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-i64", static_cast<uint32_t>(11)), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-i64", static_cast<uint32_t>(22)), std::exception);
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i32", static_cast<uint32_t>(4))) == static_cast<uint32_t>(9));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i32", static_cast<uint32_t>(23))) == static_cast<uint32_t>(362880));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i32", static_cast<uint32_t>(26))) == static_cast<uint32_t>(55));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-i32", static_cast<uint32_t>(19))) == static_cast<uint32_t>(9));
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-i32", static_cast<uint32_t>(9)), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-i32", static_cast<uint32_t>(21)), std::exception);
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f32", static_cast<uint32_t>(6))) == static_cast<float>(1091567616));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f32", static_cast<uint32_t>(24))) == static_cast<float>(1219571712));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f32", static_cast<uint32_t>(27))) == static_cast<float>(1113325568));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f32", static_cast<uint32_t>(21))) == static_cast<float>(1091567616));
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-f32", static_cast<uint32_t>(8)), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-f32", static_cast<uint32_t>(19)), std::exception);
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f64", static_cast<uint32_t>(7))) == static_cast<double>(4621256167635550208));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f64", static_cast<uint32_t>(25))) == static_cast<double>(4689977843394805760));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f64", static_cast<uint32_t>(28))) == static_cast<double>(4632937379169042432));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "dispatch-structural-f64", static_cast<uint32_t>(22))) == static_cast<double>(4621256167635550208));
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-f64", static_cast<uint32_t>(10)), std::exception);
   CHECK_THROWS_AS(bkend(nullptr, "env", "dispatch-structural-f64", static_cast<uint32_t>(18)), std::exception);
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fac-i64", static_cast<uint64_t>(0))) == static_cast<uint64_t>(1));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fac-i64", static_cast<uint64_t>(1))) == static_cast<uint64_t>(1));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fac-i64", static_cast<uint64_t>(5))) == static_cast<uint64_t>(120));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fac-i64", static_cast<uint64_t>(25))) == static_cast<uint64_t>(7034535277573963776));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fac-i32", static_cast<uint32_t>(0))) == static_cast<uint32_t>(1));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fac-i32", static_cast<uint32_t>(1))) == static_cast<uint32_t>(1));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fac-i32", static_cast<uint32_t>(5))) == static_cast<uint32_t>(120));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fac-i32", static_cast<uint32_t>(10))) == static_cast<uint32_t>(3628800));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fac-f32", static_cast<float>(0))) == static_cast<float>(1065353216));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fac-f32", static_cast<float>(1065353216))) == static_cast<float>(1065353216));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fac-f32", static_cast<float>(1084227584))) == static_cast<float>(1123024896));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fac-f32", static_cast<float>(1092616192))) == static_cast<float>(1247640576));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fac-f64", static_cast<double>(0))) == static_cast<double>(4607182418800017408));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fac-f64", static_cast<double>(4607182418800017408))) == static_cast<double>(4607182418800017408));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fac-f64", static_cast<double>(4617315517961601024))) == static_cast<double>(4638144666238189568));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fac-f64", static_cast<double>(4621819117588971520))) == static_cast<double>(4705047200009289728));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fib-i64", static_cast<uint64_t>(0))) == static_cast<uint64_t>(1));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fib-i64", static_cast<uint64_t>(1))) == static_cast<uint64_t>(1));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fib-i64", static_cast<uint64_t>(2))) == static_cast<uint64_t>(2));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fib-i64", static_cast<uint64_t>(5))) == static_cast<uint64_t>(8));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "fib-i64", static_cast<uint64_t>(20))) == static_cast<uint64_t>(10946));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fib-i32", static_cast<uint32_t>(0))) == static_cast<uint32_t>(1));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fib-i32", static_cast<uint32_t>(1))) == static_cast<uint32_t>(1));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fib-i32", static_cast<uint32_t>(2))) == static_cast<uint32_t>(2));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fib-i32", static_cast<uint32_t>(5))) == static_cast<uint32_t>(8));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "fib-i32", static_cast<uint32_t>(20))) == static_cast<uint32_t>(10946));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fib-f32", static_cast<float>(0))) == static_cast<float>(1065353216));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fib-f32", static_cast<float>(1065353216))) == static_cast<float>(1065353216));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fib-f32", static_cast<float>(1073741824))) == static_cast<float>(1073741824));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fib-f32", static_cast<float>(1084227584))) == static_cast<float>(1090519040));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "fib-f32", static_cast<float>(1101004800))) == static_cast<float>(1177225216));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fib-f64", static_cast<double>(0))) == static_cast<double>(4607182418800017408));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fib-f64", static_cast<double>(4607182418800017408))) == static_cast<double>(4607182418800017408));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fib-f64", static_cast<double>(4611686018427387904))) == static_cast<double>(4611686018427387904));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fib-f64", static_cast<double>(4617315517961601024))) == static_cast<double>(4620693217682128896));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "fib-f64", static_cast<double>(4626322717216342016))) == static_cast<double>(4667243241467281408));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "even", static_cast<uint32_t>(0))) == static_cast<uint32_t>(44));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "even", static_cast<uint32_t>(1))) == static_cast<uint32_t>(99));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "even", static_cast<uint32_t>(100))) == static_cast<uint32_t>(44));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "even", static_cast<uint32_t>(77))) == static_cast<uint32_t>(99));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "odd", static_cast<uint32_t>(0))) == static_cast<uint32_t>(99));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "odd", static_cast<uint32_t>(1))) == static_cast<uint32_t>(44));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "odd", static_cast<uint32_t>(200))) == static_cast<uint32_t>(99));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "odd", static_cast<uint32_t>(77))) == static_cast<uint32_t>(44));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-select-first", )) == static_cast<uint32_t>(306));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-select-mid", )) == static_cast<uint32_t>(2));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-select-last", )) == static_cast<uint32_t>(2));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-if-condition", )) == static_cast<uint32_t>(1));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "as-br_if-first", )) == static_cast<uint64_t>(356));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-br_if-last", )) == static_cast<uint32_t>(2));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "as-br_table-first", )) == static_cast<float>(1165172736));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-br_table-last", )) == static_cast<uint32_t>(2));
   CHECK(!bkend.call_with_return(nullptr, "env", "as-store-first", )));
   CHECK(!bkend.call_with_return(nullptr, "env", "as-store-last", )));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-memory.grow-value", )) == static_cast<uint32_t>(1));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-return-value", )) == static_cast<uint32_t>(1));
   CHECK(!bkend.call_with_return(nullptr, "env", "as-drop-operand", )));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "as-br-value", )) == static_cast<float>(1065353216));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "as-local.set-value", )) == static_cast<double>(4607182418800017408));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "as-local.tee-value", )) == static_cast<double>(4607182418800017408));
   CHECK(to_f64(*bkend.call_with_return(nullptr, "env", "as-global.set-value", )) == static_cast<double>(4607182418800017408));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-load-operand", )) == static_cast<uint32_t>(1));
   CHECK(to_f32(*bkend.call_with_return(nullptr, "env", "as-unary-operand", )) == static_cast<float>(0));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-binary-left", )) == static_cast<uint32_t>(11));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-binary-right", )) == static_cast<uint32_t>(9));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-test-operand", )) == static_cast<uint32_t>(0));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-compare-left", )) == static_cast<uint32_t>(1));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "as-compare-right", )) == static_cast<uint32_t>(1));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "as-convert-operand", )) == static_cast<uint64_t>(1));
}

