TEST_CASE( "Testing wasm <switch_test_0_wasm>", "[switch_test_0_wasm_tests]" ) {
   auto code = backend_t::read_wasm( switch_test_0_wasm ) );
   backend_t bkend( code );
   bkend.set_wasm_allocator( &wa );

   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(0))) == static_cast<uint32_t>(0));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(1))) == static_cast<uint32_t>(4294967295));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(2))) == static_cast<uint32_t>(4294967294));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(3))) == static_cast<uint32_t>(4294967293));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(4))) == static_cast<uint32_t>(100));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(5))) == static_cast<uint32_t>(101));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(6))) == static_cast<uint32_t>(102));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(7))) == static_cast<uint32_t>(100));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "stmt", static_cast<uint32_t>(4294967286))) == static_cast<uint32_t>(102));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "expr", static_cast<uint64_t>(0))) == static_cast<uint64_t>(0));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "expr", static_cast<uint64_t>(1))) == static_cast<uint64_t>(18446744073709551615));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "expr", static_cast<uint64_t>(2))) == static_cast<uint64_t>(18446744073709551614));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "expr", static_cast<uint64_t>(3))) == static_cast<uint64_t>(18446744073709551613));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "expr", static_cast<uint64_t>(6))) == static_cast<uint64_t>(101));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "expr", static_cast<uint64_t>(7))) == static_cast<uint64_t>(18446744073709551611));
   CHECK(to_i64(*bkend.call_with_return(nullptr, "env", "expr", static_cast<uint64_t>(18446744073709551606))) == static_cast<uint64_t>(100));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(0))) == static_cast<uint32_t>(110));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(1))) == static_cast<uint32_t>(12));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(2))) == static_cast<uint32_t>(4));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(3))) == static_cast<uint32_t>(1116));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(4))) == static_cast<uint32_t>(118));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(5))) == static_cast<uint32_t>(20));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(6))) == static_cast<uint32_t>(12));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(7))) == static_cast<uint32_t>(1124));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "arg", static_cast<uint32_t>(8))) == static_cast<uint32_t>(126));
   CHECK(to_i32(*bkend.call_with_return(nullptr, "env", "corner", )) == static_cast<uint32_t>(1));
}

